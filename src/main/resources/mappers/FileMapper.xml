<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sb.sbweek3.file.FileMapper">
    <!-- tb_file 테이블 전체 컬럼 -->
    <sql id="fileColumns">
        file_id,
        board_id,
        original_filename,
        saved_filename,
        file_path,
        file_type,
        file_size,
        delete_yn,
        system_register_datetime,
        system_update_datetime,
        file_deleted_datetime
    </sql>

    <insert id="saveAll" parameterType="list">
        INSERT INTO file_info (
            <include refid="fileColumns"/>
        ) VALUES
        <foreach item="file" collection="list" separator=",">
            (
                #{file.fileId},
                #{file.boardId},
                #{file.originalFilename},
                #{file.savedFilename},
                #{file.filePath},
                #{file.fileType},
                #{file.fileSize},
                0,
                now(),
                now(),
                NULL
            )
        </foreach>
    </insert>
</mapper>